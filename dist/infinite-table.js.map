{"version":3,"sources":["webpack://InfiniteTable/webpack/universalModuleDefinition","webpack://InfiniteTable/webpack/bootstrap","webpack://InfiniteTable/external \"vue\"","webpack://InfiniteTable/(webpack)/buildin/global.js","webpack://InfiniteTable/./node_modules/defaults/index.js","webpack://InfiniteTable/./node_modules/get-value/index.js","webpack://InfiniteTable/./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack://InfiniteTable/./node_modules/debounce/index.js","webpack://InfiniteTable/./node_modules/babel-helper-vue-jsx-merge-props/index.js","webpack://InfiniteTable/./node_modules/classnames/index.js","webpack://InfiniteTable/./node_modules/clone/clone.js","webpack://InfiniteTable/./node_modules/buffer/index.js","webpack://InfiniteTable/./node_modules/base64-js/index.js","webpack://InfiniteTable/./node_modules/ieee754/index.js","webpack://InfiniteTable/./node_modules/isarray/index.js","webpack://InfiniteTable/./node_modules/get-value/node_modules/isobject/index.js","webpack://InfiniteTable/./src/utils/layout.js","webpack://InfiniteTable/./src/utils/object.js","webpack://InfiniteTable/./src/store/table-column-item.js","webpack://InfiniteTable/./src/table-column.jsx","webpack://InfiniteTable/src/table-header.vue","webpack://InfiniteTable/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://InfiniteTable/./src/table-header.vue","webpack://InfiniteTable/./src/table-header.vue?1861","webpack://InfiniteTable/./src/render/transform.js","webpack://InfiniteTable/src/render/range-render.vue","webpack://InfiniteTable/./src/render/range-render.vue","webpack://InfiniteTable/./src/render/range-render.vue?4fc2","webpack://InfiniteTable/src/table-body.vue","webpack://InfiniteTable/./src/table-body.vue","webpack://InfiniteTable/./src/table-row.jsx","webpack://InfiniteTable/./src/table-body.vue?aa72","webpack://InfiniteTable/./src/utils/collection.js","webpack://InfiniteTable/./src/store/table-column-store.js","webpack://InfiniteTable/./src/store/table-selection-store.js","webpack://InfiniteTable/./src/store/table-data-store.js","webpack://InfiniteTable/./src/store/utils.js","webpack://InfiniteTable/./src/table-store.js","webpack://InfiniteTable/./src/table-layout.js","webpack://InfiniteTable/./src/event-emitter.js","webpack://InfiniteTable/src/table.vue","webpack://InfiniteTable/./src/table.vue","webpack://InfiniteTable/./src/table.vue?5465","webpack://InfiniteTable/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","e","clone","options","defaults","keys","forEach","isObject","join","segs","joinChar","isValid","target","isValidObject","val","Array","isArray","path","default","String","isString","splitChar","separator","split","len","length","idx","prop","slice","hasProp","MapShim","Map","getIndex","arr","result","some","entry","index","class_1","__entries__","configurable","set","push","delete","entries","splice","has","clear","callback","ctx","_i","_a","isBrowser","document","global$1","global","Math","self","requestAnimationFrame$1","requestAnimationFrame","setTimeout","Date","now","trailingTimeout","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","indexOf","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","addEventListener","observe","attributes","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","props","writable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","arguments","reduce","size","position","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","left","right","vertPad","top","bottom","width","height","boxSizing","round","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","x","y","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","TypeError","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","_this","observation","map","WeakMap","ResizeObserver","method","apply","debounce","func","wait","immediate","timeout","args","context","timestamp","later","last","debounced","callNow","clearTimeout","flush","nestRE","mergeFn","a","b","objs","aa","bb","nestedKey","temp","test","concat","hasOwn","classNames","classes","arg","argType","inner","parent","circular","depth","allParents","allChildren","useBuffer","Buffer","Infinity","_clone","child","proto","__isArray","__isRegExp","RegExp","source","__getRegExpFlags","lastIndex","__isDate","getTime","isBuffer","allocUnsafe","copy","getPrototypeOf","attrs","getOwnPropertyDescriptor","__objToStr","toString","re","flags","ignoreCase","multiline","clonePrototype","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","__proto__","encodingOrOffset","Error","from","ArrayBuffer","array","byteOffset","byteLength","undefined","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","fromString","obj","checked","buffer","type","data","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","subarray","typedArraySupport","poolSize","_augment","species","fill","allocUnsafeSlow","_isBuffer","compare","list","pos","swap16","swap32","swap64","equals","inspect","max","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","parts","len2","encodeChunk","lookup","num","output","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","log","LN2","scrollBarWidth","getScrollWidth","outer","createElement","className","style","visibility","body","appendChild","widthNoScroll","offsetWidth","overflow","widthWithScroll","parentNode","removeChild","px2num","getValue","defaultColumnRender","h","row","TableColumnItem","label","sortable","comparator","sortBy","fixed","render","console","error","columnRender","hasWidth","inject","Boolean","required","columnWidth","watch","column","generateColumnOption","tableStore","tableColumns","replaceTableColumn","mounted","tableColumnIndex","getColumnIndex","addTableColumn","beforeDestroy","removeTableColumn","methods","$parent","$refs","columnsDef","children","$el","scopedSlot","$scopedSlots","normalizeComponent","scriptExports","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","existing","beforeCreate","headerHeight","mouseEnterIndex","resizeIndicator","activeIndex","startX","hover","visible","computed","sortedColumn","dataStore","sortedOption","cursor","getTableCellClass","isCurrentIndex","handleMouseEnter","columnIndex","handleMouseLeave","handleMouseDown","getParentScrollLeft","event","clientX","handleResizeIndicatorMove","handleResizeIndicatorMouseUp","stopPropagationClickEvent","stopPropagation","stopImmediatePropagation","tableOptions","headerResizable","emitter","dispatch","activeColumn","scrollElement","scrollLeft","handleMouseMove","cellRect","pageX","currentTarget","draggable","handleHeaderDragStart","dataTransfer","setData","HEADER_DRAG_DATA_TYPE","handleHeaderDragOver","preventDefault","handleHeaderDragEnd","handleHeaderDrop","dragIndex","dragItem","dropIndex","dropItem","getFixedStyle","getFixedColumnStyle","getActiveClass","isSameColumn","handleColumnSort","_vm","_h","$createElement","_c","_self","staticClass","_l","class","assign","headerOrderDraggable","on","$event","_v","_s","active","_e","ref","calcFixedIndex","itemSize","delta","maxLength","anchorItem","lastAnchorItem","rowHeight","totalLength","realDelta","nextOffset","nextIndex","calculateAnchorItem","startIndex","endIndex","direction","viewportSize","dataKey","sizeField","leadingSize","trailSize","pool","accumulationOffset","sum","componentProps","handler","handleIndexChange","viewId","cacheViewList","activeViewMap","addToPool","id","view","viewProps","invalidViewItem","viewItem","accumulationList","accOffset","nextAccOffset","accumulation","fixedIndex","item","_t","components","RangeRender","TableRow","offsetX","dispatchRowEvent","eventName","renderTableCell","tableSelection","focusedRow","selectedColumn","highlightCurrentCell","rowDraggable","columnOption","cellSelected","isSameRow","cellClassNames","click","contextmenu","dblclick","dragstart","dragend","dragover","drop","rowIndex","layoutSize","leftFixedColumns","rightFixedColumns","mainColumns","leftFixedColumnWidth","rightFixedColumnWidth","allColumnsWidth","viewportWidth","scopedSlots","grid","offsetY","fixedData","tableBodyListeners","handleScroll","handing","scroll","getScrollElement","getExtraRowAttrs","rowExtraAttrs","extraAttrs","rowItem","striped","hasSelected","changeOffsetIndex","scrollTop","closest","_g","staticStyle","transform","rowData","rowKey","viewportHeight","_u","fn","sumBy","iteratee","current","baseSum","TableColumnStore","Vue","allTableColumns","columns","columnOffset","fixedPositionMap","prevValue","prevColumn","previousValue","previousColumn","getColumnsByFixed","findColumnIndex","originIndex","findIndex","positionMap","columnStore","nextColumn","prevIndex","TableSelectionStore","selectedRows","selectedCell","multiple","findSelectionIndex","clearSelectedRows","createDataStore","freeze","fixedKeys","Set","dataItem","normalData","compareDataItem","allData","order","sort","row1","row2","descFlag","nextData","setSortedOption","column1","column2","prevOrder","TableDataStore","TableStore","eventEmitter","__layoutSize","updateData","updateFixedKeys","rowItem1","rowItem2","doColumnWidthLayout","tableWidth","defaultWidthColumnCount","defaultColumnRestWidth","totalColumnWidth","totalWidth","totalColumn","EventEmitter","vm","payload","$emit","TableBody","TableHeader","highlightCurrentRow","multipleSelection","topFixedKeys","composeKey","shift","control","tableHeight","number","tableHeaderClass","provide","newData","doLayout","nextFixedKeys","deep","$nextTick","created","$on","resizeObserver","table","dataLength","el","HTMLElement","getBoundingClientRect","hasHorizontalScroller","lastAllColumnsWidth","calculatedColumns","selectRow","addSelectedRows","handleChangeSelect","keyStatus","KeyStatus","move","handleComposeKeyEvent","$set","handleDispatchKeyEvent","handleKeyEvent","dispatchItem","rule","tryScrollInvisibleElem","scrollToRow","beneathTheTop","scrollToColumn","beneathTheLeft","focus","positionOffset","fixedOffset","scrollTo","InfiniteTable","InfiniteTableColumn","install","component"],"mappings":"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","file":"infinite-table.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"InfiniteTable\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"InfiniteTable\"] = factory(root[\"vue\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var clone = require('clone');\n\nmodule.exports = function(options, defaults) {\n  options = options || {};\n\n  Object.keys(defaults).forEach(function(key) {\n    if (typeof options[key] === 'undefined') {\n      options[key] = clone(defaults[key]);\n    }\n  });\n\n  return options;\n};","/*!\n * get-value <https://github.com/jonschlinkert/get-value>\n *\n * Copyright (c) 2014-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nconst isObject = require('isobject');\n\nmodule.exports = function(target, path, options) {\n  if (!isObject(options)) {\n    options = { default: options };\n  }\n\n  if (!isValidObject(target)) {\n    return typeof options.default !== 'undefined' ? options.default : target;\n  }\n\n  if (typeof path === 'number') {\n    path = String(path);\n  }\n\n  const isArray = Array.isArray(path);\n  const isString = typeof path === 'string';\n  const splitChar = options.separator || '.';\n  const joinChar = options.joinChar || (typeof splitChar === 'string' ? splitChar : '.');\n\n  if (!isString && !isArray) {\n    return target;\n  }\n\n  if (isString && path in target) {\n    return isValid(path, target, options) ? target[path] : options.default;\n  }\n\n  let segs = isArray ? path : split(path, splitChar, options);\n  let len = segs.length;\n  let idx = 0;\n\n  do {\n    let prop = segs[idx];\n    if (typeof prop === 'number') {\n      prop = String(prop);\n    }\n\n    while (prop && prop.slice(-1) === '\\\\') {\n      prop = join([prop.slice(0, -1), segs[++idx] || ''], joinChar, options);\n    }\n\n    if (prop in target) {\n      if (!isValid(prop, target, options)) {\n        return options.default;\n      }\n\n      target = target[prop];\n    } else {\n      let hasProp = false;\n      let n = idx + 1;\n\n      while (n < len) {\n        prop = join([prop, segs[n++]], joinChar, options);\n\n        if ((hasProp = prop in target)) {\n          if (!isValid(prop, target, options)) {\n            return options.default;\n          }\n\n          target = target[prop];\n          idx = n - 1;\n          break;\n        }\n      }\n\n      if (!hasProp) {\n        return options.default;\n      }\n    }\n  } while (++idx < len && isValidObject(target));\n\n  if (idx === len) {\n    return target;\n  }\n\n  return options.default;\n};\n\nfunction join(segs, joinChar, options) {\n  if (typeof options.join === 'function') {\n    return options.join(segs);\n  }\n  return segs[0] + joinChar + segs[1];\n}\n\nfunction split(path, splitChar, options) {\n  if (typeof options.split === 'function') {\n    return options.split(path);\n  }\n  return path.split(splitChar);\n}\n\nfunction isValid(key, target, options) {\n  if (typeof options.isValid === 'function') {\n    return options.isValid(key, target);\n  }\n  return true;\n}\n\nfunction isValidObject(val) {\n  return isObject(val) || Array.isArray(val) || typeof val === 'function';\n}\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","var nestRE = /^(attrs|props|on|nativeOn|class|style|hook)$/\n\nmodule.exports = function mergeJSXProps (objs) {\n  return objs.reduce(function (a, b) {\n    var aa, bb, key, nestedKey, temp\n    for (key in b) {\n      aa = a[key]\n      bb = b[key]\n      if (aa && nestRE.test(key)) {\n        // normalize class\n        if (key === 'class') {\n          if (typeof aa === 'string') {\n            temp = aa\n            a[key] = aa = {}\n            aa[temp] = true\n          }\n          if (typeof bb === 'string') {\n            temp = bb\n            b[key] = bb = {}\n            bb[temp] = true\n          }\n        }\n        if (key === 'on' || key === 'nativeOn' || key === 'hook') {\n          // merge functions\n          for (nestedKey in bb) {\n            aa[nestedKey] = mergeFn(aa[nestedKey], bb[nestedKey])\n          }\n        } else if (Array.isArray(aa)) {\n          a[key] = aa.concat(bb)\n        } else if (Array.isArray(bb)) {\n          a[key] = [aa].concat(bb)\n        } else {\n          for (nestedKey in bb) {\n            aa[nestedKey] = bb[nestedKey]\n          }\n        }\n      } else {\n        a[key] = b[key]\n      }\n    }\n    return a\n  }, {})\n}\n\nfunction mergeFn (a, b) {\n  return function () {\n    a && a.apply(this, arguments)\n    b && b.apply(this, arguments)\n  }\n}\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","var clone = (function() {\n'use strict';\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\nfunction clone(parent, circular, depth, prototype) {\n  var filter;\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    filter = circular.filter;\n    circular = circular.circular\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n};\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n};\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n};\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n};\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n};\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","let scrollBarWidth;\n\n/**\n * 获取当前页面中滚动条的宽度\n * @return {number|*}\n */\nexport function getScrollWidth() {\n  if (scrollBarWidth !== undefined) return scrollBarWidth;\n  const outer = document.createElement('div');\n  outer.className = 'scrollbar__wrap';\n  outer.style.visibility = 'hidden';\n  outer.style.width = '100px';\n  outer.style.position = 'absolute';\n  outer.style.top = '-9999px';\n  document.body.appendChild(outer);\n\n  const widthNoScroll = outer.offsetWidth;\n  outer.style.overflow = 'scroll';\n\n  const inner = document.createElement('div');\n  inner.style.width = '100%';\n  outer.appendChild(inner);\n\n  const widthWithScroll = inner.offsetWidth;\n  outer.parentNode.removeChild(outer);\n  scrollBarWidth = widthNoScroll - widthWithScroll;\n\n  return scrollBarWidth;\n}\n\n/**\n * 自动给数字添加px单位\n * 如果参数不是数字，那么原样返回\n * @param number 要添加px单位的数字\n * @return {string|*}\n */\nexport function num2px(number) {\n  if (typeof number === 'number' && !Number.isNaN(number)) {\n    return `${number}px`;\n  }\n  return number;\n}\n\nexport function px2num(str) {\n  const num = parseFloat(str);\n  if (Number.isNaN(num)) {\n    return 0;\n  }\n  return num;\n}\n\n/**\n * 获取clientHeight和clientWidth\n * @param {HTMLElement} el;\n */\nexport function getClientSize(el) {\n  if (el instanceof HTMLElement) {\n    const { width, height } = el.getBoundingClientRect();\n    return {\n      height,\n      width,\n    };\n  }\n  throw new Error('getClientSize错误: el不是HTMLElement对象');\n}\n","import getValue from 'get-value';\n\nexport function get(target, path, options) {\n  return getValue(target, path, options);\n}\n","import defaults from 'defaults';\nimport { px2num } from '@/utils/layout';\nimport { get } from '@/utils/object';\n\n/**\n * 默认的列渲染方法\n * 返回row中[prop]字段中的数据\n * prop可以使用a.b.c等复杂方式表示\n *\n * @param h\n * @param {{options: Object, row: Object}} props 渲染列时的对象\n * @return {string}\n */\nexport const defaultColumnRender = function defaultColumnRender(h, props) {\n  if (!props || !props.options || !props.row) {\n    return '';\n  }\n  const { options, row } = props;\n  const { prop } = options;\n  if (prop) {\n    return get(row, prop);\n  }\n  return '';\n};\n\n/**\n * 创建TableColumnItem的选项\n *\n * @typedef {Object} TableColumnItemOptions\n * @property {string} label\n * @property {string} width\n * @property {boolean} sortable\n * @property {string} prop\n * @property {boolean} fixed\n * @property {function} render\n * @property {function} comparator\n *\n */\nexport default class TableColumnItem {\n  /**\n   * @param {TableColumnItemOptions} options\n   */\n  constructor(options) {\n    const defaultOptions = {\n      width: null,\n      label: '',\n      sortable: false,\n      comparator: null,\n      prop: '',\n      sortBy: '',\n      fixed: false,\n    };\n    const o = defaults(options, defaultOptions);\n    if (!o.label) {\n      throw new Error('[TableColumnItem]: Column中必须包含唯一的label字段');\n    }\n    if (o.render) {\n      if (o.sortable && !o.sortBy) {\n        console.error('[TableColumnItem]: 使用render函数时排序需要设置sortBy字段');\n      }\n      this.sortBy = o.sortBy;\n      this.columnRender = o.render;\n    } else {\n      this.sortBy = o.sortBy || o.prop;\n      this.columnRender = defaultColumnRender;\n    }\n    this.width = px2num(o.width);\n    this.hasWidth = !!this.width;\n    this.label = o.label;\n    this.sortable = o.sortable;\n    this.comparator = o.comparator;\n    this.prop = o.prop;\n    this.fixed = o.fixed === true ? 'left' : o.fixed;\n  }\n}\n","import TableColumnItem from '@/store/table-column-item';\n\nexport default {\n  name: 'InfiniteTableColumn',\n  inject: ['tableStore'],\n  props: {\n    sortable: {\n      type: Boolean,\n      default: false,\n    },\n    comparator: {\n      type: Function,\n      default: undefined,\n    },\n    width: {\n      type: [Number, String],\n      default: 0,\n    },\n    label: {\n      type: String,\n      required: true,\n    },\n    prop: {\n      type: String,\n      default: '',\n    },\n    fixed: {\n      type: [String, Boolean],\n      default: false,\n    },\n    sortBy: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      columnWidth: this.width,\n    };\n  },\n  watch: {\n    width() {\n      const column = this.generateColumnOption();\n      this.tableStore.tableColumns.replaceTableColumn(this.column, column);\n      this.column = column;\n    },\n  },\n  mounted() {\n    this.column = this.generateColumnOption();\n    this.tableColumnIndex = this.getColumnIndex();\n    this.tableStore.tableColumns.addTableColumn(this.column, this.tableColumnIndex);\n  },\n  beforeDestroy() {\n    this.tableStore.tableColumns.removeTableColumn(this.column);\n  },\n  methods: {\n    getColumnIndex() {\n      return [].indexOf.call(this.$parent.$refs.columnsDef.children, this.$el);\n    },\n    generateColumnOption() {\n      const {\n        width, label, sortable, comparator,\n        prop, fixed, sortBy,\n      } = this;\n\n      const scopedSlot = this.$scopedSlots.default;\n      if (!scopedSlot && !prop) {\n        throw new Error('[table-column]: prop和slot-scope必须存在一个');\n      }\n      return new TableColumnItem({\n        width,\n        label,\n        sortBy,\n        sortable,\n        comparator,\n        prop,\n        render: scopedSlot ? (h, props) => scopedSlot(props) : undefined,\n        fixed,\n      });\n    },\n  },\n  render(h) {\n    return h('div');\n  },\n};\n","<template>\n  <div\n    class=\"infinite-table__table-header\"\n    :style=\"{height: `${headerHeight}px`}\"\n  >\n    <div\n      v-for=\"(column,columnIndex) of tableColumns.columns\"\n      :key=\"column.label\"\n      class=\"infinite-table__cell\"\n      :class=\"{\n        ...getTableCellClass(column, columnIndex),\n      }\"\n      :style=\"{\n        width: `${column.width}px`,\n        ...getFixedStyle(column),\n      }\"\n      :draggable=\"tableOptions.headerOrderDraggable\"\n      @click=\"handleColumnSort(column)\"\n      @mouseenter=\"handleMouseEnter(columnIndex, $event)\"\n      @mouseleave=\"handleMouseLeave(columnIndex, $event)\"\n      @mousemove=\"handleMouseMove(columnIndex, $event)\"\n      @mousedown.capture=\"handleMouseDown(columnIndex, $event)\"\n      @dragstart=\"handleHeaderDragStart(columnIndex, $event)\"\n      @dragover=\"handleHeaderDragOver(columnIndex, $event)\"\n      @dragend=\"handleHeaderDragEnd(columnIndex, $event)\"\n      @drop=\"handleHeaderDrop(columnIndex, $event)\"\n    >\n      <div class=\"cell-content\">\n        {{ column.label }}\n        <div\n          v-if=\"column.sortable\"\n          class=\"infinite-table__table-header__sortable\"\n        >\n          <div\n            class=\"infinite-table__sortable ascending\"\n            :class=\"{active: getActiveClass(column, 'asc')}\"\n            @click.stop=\"handleColumnSort(column, 'asc')\"\n          />\n          <div\n            class=\"infinite-table__sortable descending\"\n            :class=\"{active: getActiveClass(column, 'desc')}\"\n            @click.stop=\"handleColumnSort(column, 'desc')\"\n          />\n        </div>\n      </div>\n    </div>\n    <div\n      v-if=\"resizeIndicator.visible\"\n      ref=\"resizeIndicator\"\n      class=\"infinite-table__resize-indicator\"\n      :style=\"{left: `${resizeIndicator.left}px`}\"\n    />\n  </div>\n</template>\n<script>\nconst HEADER_DRAG_DATA_TYPE = 'headerColumnIndex'.toLowerCase();\n\nexport default {\n  name: 'TableHeader',\n  inject: ['tableStore', 'tableOptions', 'emitter'],\n  props: {\n    // 表头的高度，数字\n    headerHeight: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      mouseEnterIndex: -1,\n      resizeIndicator: {\n        activeIndex: -1,\n        startX: 0,\n        hover: false,\n        visible: false,\n        left: -9999,\n      },\n    };\n  },\n  computed: {\n    tableColumns() {\n      return this.tableStore.tableColumns;\n    },\n    sortedColumn() {\n      return this.tableStore.dataStore.sortedOption;\n    },\n  },\n  beforeDestroy() {\n    document.body.style.cursor = 'initial';\n  },\n  methods: {\n    getTableCellClass(column, columnIndex) {\n      const { resizeIndicator, mouseEnterIndex } = this;\n      const isCurrentIndex = mouseEnterIndex === columnIndex || mouseEnterIndex - 1 === columnIndex;\n      return {\n        'infinite-table__cell--fixed': column.fixed,\n        'infinite-table__cell--pointer': column.sortable && !resizeIndicator.hover,\n        'infinite-table__cell--resizeable': resizeIndicator.hover && isCurrentIndex,\n        hover: !resizeIndicator.visible && isCurrentIndex,\n      };\n    },\n    handleMouseEnter(columnIndex) {\n      this.mouseEnterIndex = columnIndex;\n    },\n    handleMouseLeave() {\n      this.mouseEnterIndex = -1;\n    },\n    /**\n     * 鼠标在单元格上按下时触发这个方法\n     * @param columnIndex\n     * @param event\n     */\n    handleMouseDown(columnIndex, event) {\n      const { headerResizable } = this.tableOptions;\n      // 如果鼠标按下时，鼠标在可以resize的区域内\n      if (headerResizable && this.resizeIndicator.hover) {\n        this.resizeIndicator.visible = true;\n        this.resizeIndicator.left = this.getParentScrollLeft() + event.clientX;\n        this.resizeIndicator.startX = event.clientX;\n        document.body.addEventListener('mousemove', this.handleResizeIndicatorMove);\n        document.body.addEventListener('mouseup', this.handleResizeIndicatorMouseUp);\n        // 处于resize状态时，禁用单击事件\n        document.body.addEventListener('click', this.stopPropagationClickEvent, true);\n      }\n    },\n    stopPropagationClickEvent(event) {\n      event.stopPropagation();\n      event.stopImmediatePropagation();\n    },\n    handleResizeIndicatorMouseUp(event) {\n      if (this.tableOptions.headerResizable) {\n        if (this.resizeIndicator.visible) {\n          const { activeIndex, startX } = this.resizeIndicator;\n          const { clientX } = event;\n          const activeColumn = this.tableStore.tableColumns.columns[activeIndex];\n          this.emitter.dispatch('column-resize', activeIndex, activeColumn, clientX - startX);\n        }\n        this.resizeIndicator.visible = false;\n        document.body.removeEventListener('mousemove', this.handleResizeIndicatorMove);\n        document.body.removeEventListener('mousemove', this.handleResizeIndicatorMouseUp);\n        setTimeout(() => {\n          document.body.removeEventListener('click', this.stopPropagationClickEvent, true);\n        });\n      }\n    },\n    getParentScrollLeft() {\n      const { scrollElement } = this.$parent.$refs;\n      if (scrollElement) {\n        return scrollElement.scrollLeft;\n      }\n      return 0;\n    },\n    handleMouseMove(columnIndex, event) {\n      if (this.tableOptions.headerResizable && !this.resizeIndicator.visible) {\n        const { currentTarget, pageX } = event;\n        const cellRect = currentTarget.getBoundingClientRect();\n        // 判断是否靠近右侧边缘或者 靠近左侧边缘且不是第一个\n        if (cellRect.right - pageX < 8 || (pageX - cellRect.left < 8 && columnIndex > 0)) {\n          currentTarget.draggable = false;\n          this.resizeIndicator.hover = true;\n          const activeIndex = cellRect.right - pageX < 8 ? this.mouseEnterIndex : this.mouseEnterIndex - 1;\n          this.resizeIndicator.activeIndex = activeIndex;\n        } else {\n          currentTarget.draggable = true;\n          this.resizeIndicator.hover = false;\n        }\n      }\n    },\n    handleResizeIndicatorMove(event) {\n      this.resizeIndicator.left = this.getParentScrollLeft() + event.clientX;\n    },\n    handleHeaderDragStart(columnIndex, event) {\n      event.dataTransfer.setData(HEADER_DRAG_DATA_TYPE, columnIndex);\n    },\n    handleHeaderDragOver(columnIndex, event) {\n      const index = [].indexOf.call(event.dataTransfer.types, HEADER_DRAG_DATA_TYPE);\n      if (index !== -1) {\n        event.preventDefault();\n      }\n    },\n    handleHeaderDragEnd() {\n    },\n    handleHeaderDrop(dropIndex, event) {\n      const dragIndex = parseInt(event.dataTransfer.getData(HEADER_DRAG_DATA_TYPE), 10);\n      if (typeof dragIndex === 'number' && dragIndex >= 0) {\n        const dragItem = this.tableColumns.columns[dragIndex];\n        const dropItem = this.tableColumns.columns[dropIndex];\n        this.emitter.dispatch('header-drop', dragIndex, dragItem, dropIndex, dropItem);\n      }\n    },\n    getFixedStyle(column) {\n      return this.tableStore.tableColumns.getFixedColumnStyle(column);\n    },\n    getActiveClass(column, order) {\n      if (!this.sortedColumn.column) {\n        return false;\n      }\n      return this.tableStore.isSameColumn(column, this.sortedColumn.column)\n        && this.sortedColumn.order === order;\n    },\n    handleColumnSort(column, order) {\n      // 如果column可以排序，并且TableHeader不处于resize模式中，就设置sortOption\n      if (column.sortable) {\n        // 排序的逻辑在tableStore中\n        this.tableStore.dataStore.sortedOption = {\n          column, order,\n        };\n      }\n    },\n  },\n};\n</script>\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./table-header.vue?vue&type=template&id=3788d82f&\"\nimport script from \"./table-header.vue?vue&type=script&lang=js&\"\nexport * from \"./table-header.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"infinite-table__table-header\",style:({height: (_vm.headerHeight + \"px\")})},[_vm._l((_vm.tableColumns.columns),function(column,columnIndex){return _c('div',{key:column.label,staticClass:\"infinite-table__cell\",class:Object.assign({}, _vm.getTableCellClass(column, columnIndex)),style:(Object.assign({}, {width: ((column.width) + \"px\")},\n      _vm.getFixedStyle(column))),attrs:{\"draggable\":_vm.tableOptions.headerOrderDraggable},on:{\"click\":function($event){return _vm.handleColumnSort(column)},\"mouseenter\":function($event){return _vm.handleMouseEnter(columnIndex, $event)},\"mouseleave\":function($event){return _vm.handleMouseLeave(columnIndex, $event)},\"mousemove\":function($event){return _vm.handleMouseMove(columnIndex, $event)},\"!mousedown\":function($event){return _vm.handleMouseDown(columnIndex, $event)},\"dragstart\":function($event){return _vm.handleHeaderDragStart(columnIndex, $event)},\"dragover\":function($event){return _vm.handleHeaderDragOver(columnIndex, $event)},\"dragend\":function($event){return _vm.handleHeaderDragEnd(columnIndex, $event)},\"drop\":function($event){return _vm.handleHeaderDrop(columnIndex, $event)}}},[_c('div',{staticClass:\"cell-content\"},[_vm._v(\"\\n      \"+_vm._s(column.label)+\"\\n      \"),(column.sortable)?_c('div',{staticClass:\"infinite-table__table-header__sortable\"},[_c('div',{staticClass:\"infinite-table__sortable ascending\",class:{active: _vm.getActiveClass(column, 'asc')},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleColumnSort(column, 'asc')}}}),_vm._v(\" \"),_c('div',{staticClass:\"infinite-table__sortable descending\",class:{active: _vm.getActiveClass(column, 'desc')},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleColumnSort(column, 'desc')}}})]):_vm._e()])])}),_vm._v(\" \"),(_vm.resizeIndicator.visible)?_c('div',{ref:\"resizeIndicator\",staticClass:\"infinite-table__resize-indicator\",style:({left: ((_vm.resizeIndicator.left) + \"px\")})}):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable import/prefer-default-export */\n\n/**\n * 使用当前块的index和offset，移动的距离，行高和总共的元素个数\n * 计算移动后的index和offset\n *\n * @param {{index: number, offset: number}} anchorItem 当前的节点信息，包含index和offset\n * @param {number} delta 移动的距离，如果向上或者向左移动，那么该数字为负数\n * @param {number} rowHeight 每个元素的大小\n * @param {number} totalLength 总共的元素个数\n * @return {{offset: number, index: (*|number)}|*}\n */\nexport function calculateAnchorItem(anchorItem, delta, rowHeight, totalLength) {\n  if (delta === 0 || totalLength === 0) {\n    return anchorItem;\n  }\n  const { index, offset } = anchorItem;\n  /**\n   * 滚动时元素可能只有一部分在可见部分，不可见部分的大小使用offset表示，永远是正数\n   * 这种情况计算滚动距离时需要先除去offset的部分\n   */\n  const realDelta = delta + offset;\n  let nextOffset = 0;\n  let nextIndex = index + Math.floor(realDelta / rowHeight);\n  /**\n   * 滚动后如果nextIndex<0或者nextIndex超过了可展示的数据范围，那么重置nextIndex和nextOffset字段\n   * 其他情况使用realDelta取模获取最新的offset(js中%为取余操作符，因此realDelta<0时应该加上rowHeight取模)\n   */\n  if (nextIndex < 0) {\n    nextIndex = 0;\n    nextOffset = 0;\n  } else if (nextIndex >= totalLength) {\n    nextIndex = totalLength - 1;\n    nextOffset = 0;\n  } else if (realDelta >= 0) {\n    nextOffset = realDelta % rowHeight;\n  } else {\n    nextOffset = rowHeight + (realDelta % rowHeight);\n  }\n\n  return {\n    index: nextIndex,\n    offset: nextOffset,\n  };\n}\n\n/**\n * 固定模式下计算startIndex和endIndex的方法\n * @param {number} offset 开始的距离\n * @param {number} itemSize 每个元素的大小\n * @param {number} delta 结束的距离\n * @param {number} maxLength 元素数量\n * @return {{startIndex: number, endIndex: number}} 开始和结束的index, 均包括\n */\nexport function calcFixedIndex(offset, itemSize, delta, maxLength){\n\n  const anchorItem = {\n    index: Math.floor(offset / itemSize),\n    offset: offset % itemSize,\n  };\n  const lastAnchorItem = calculateAnchorItem(anchorItem, delta, itemSize, maxLength);\n  return {\n    startIndex: anchorItem.index,\n    endIndex: lastAnchorItem.index,\n  }\n}\n\n/**\n * 非固定大小的模式下计算startIndex和endIndex的方法\n *\n * @param {Array} accumulationList 包含每列累计大小的数组\n * @param {number} offset 开始的距离\n * @param {number} delta 结束的距离\n * @return {{startIndex: number, endIndex: number}} 开始和结束的index, 均包括\n */\nexport function calcAccumulationIndex(accumulationList, offset, delta) {\n  let startIndex = -1;\n  let endIndex;\n\n  for (let i = 0; i < accumulationList.length; i += 1) {\n    const accOffset = accumulationList[i];\n    if (i < accumulationList.length - 1) {\n      const nextAccOffset = accumulationList[i + 1];\n      if (offset >= accOffset && offset < nextAccOffset) {\n        startIndex = i;\n      }\n      if (\n        startIndex !== -1\n        && offset + delta >= accOffset && offset + delta < nextAccOffset\n      ) {\n        endIndex = i;\n        break;\n      }\n    } else {\n      if (startIndex === -1) {\n        startIndex = i;\n      }\n      endIndex = i;\n    }\n  }\n  return { startIndex, endIndex };\n}\n","<template>\n  <div class=\"range-render\">\n    <div\n      v-for=\"item of pool\"\n      :key=\"item.props.id\"\n      class=\"range-render__item\"\n      :style=\"{'transform': `translate${direction ==='vertical' ? 'Y' : 'X'}(${item.position}px)`}\"\n    >\n      <slot\n        :data=\"item.data\"\n        :index=\"item.props.index\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { calcAccumulationIndex, calcFixedIndex } from './transform';\nimport { get } from '@/utils/object';\n\n/**\n * RangeRender 按需渲染列表的组件\n *\n */\n\nexport default {\n  name: 'RangeRender',\n  props: {\n    /**\n     * 要渲染的数组，必填\n     * */\n    data: {\n      type: [Array, Object],\n      required: true,\n    },\n    /**\n     * 列表的方向，可选值 vertical horizontal\n     * 默认为vertical\n     */\n    direction: {\n      type: String,\n      default: 'vertical',\n    },\n    /**\n     * 默认offset\n     */\n    offset: {\n      type: Number,\n      required: true,\n    },\n    /**\n     * 可视区域的尺寸\n     */\n    viewportSize: {\n      type: Number,\n      required: true,\n    },\n    /**\n     * 唯一识别数据的key\n     */\n    dataKey: {\n      type: String,\n      required: true,\n    },\n    /**\n     * 单个元素的尺寸，适用于每个元素尺寸都相同的模式\n     */\n    size: {\n      type: Number,\n      default: null,\n    },\n    /**\n     * 获取元素大小的字段，适用于每个元素尺寸不同的模式\n     */\n    sizeField: {\n      type: String,\n      default: null,\n    },\n    leadingSize: {\n      type: Number,\n      default: 0,\n    },\n    trailSize: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      pool: [],\n    };\n  },\n  computed: {\n    accumulationOffset() {\n      if (this.sizeField) {\n        let sum = 0;\n        return this.data.map((item, index, data) => {\n          if (index === 0) {\n            return 0;\n          }\n          const lastItem = data[index - 1];\n          const size = get(lastItem, this.sizeField);\n          const offset = sum + size;\n          sum += size;\n          return offset;\n        });\n      }\n      return [];\n    },\n    componentProps() {\n      return {\n        data: this.data,\n        offset: this.offset,\n        viewportSize: this.viewportSize,\n        size: this.size,\n        sizeField: this.sizeField,\n        leadingSize: this.leadingSize,\n        trailSize: this.trailSize,\n        direction: this.direction,\n      };\n    },\n  },\n  watch: {\n    componentProps: {\n      immediate: true,\n      handler() {\n        // TODO: 验证handleIndexChange的调用次数为1\n        this.handleIndexChange();\n      },\n    },\n  },\n  beforeCreate() {\n    // 标识pool中对象的唯一id\n    this.viewId = 0;\n    this.cacheViewList = [];\n    this.activeViewMap = new Map();\n  },\n  methods: {\n    addToPool(view, index, key) {\n      const viewProps = {\n        id: this.viewId,\n        active: true,\n        index,\n        key,\n      };\n\n      this.viewId += 1;\n\n      Object.defineProperty(view, 'props', {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n        value: viewProps,\n      });\n      this.pool.push(view);\n    },\n    invalidViewItem(viewItem) {\n      this.activeViewMap.delete(viewItem.props.key);\n      this.cacheViewList.push(viewItem);\n      // eslint-disable-next-line\n      viewItem.position = -99999;\n      // eslint-disable-next-line\n      viewItem.props.active = false;\n    },\n    /**\n     * 当offset变化或数据发生变化的时候调用此方法\n     */\n    handleIndexChange() {\n      const {\n        offset, viewportSize, dataKey,\n        data, size, sizeField,\n      } = this;\n\n      let startIndex; // 开始的index，包含\n      let endIndex; // 结束的index，不包含\n      /**\n       * 如果是固定大小的模式\n       * 直接计算startIndex和endIndex\n       * 如果是动态大小的模式，则使用累加的方式\n       */\n      if (!sizeField) {\n        const fixedIndex = calcFixedIndex(offset, size, viewportSize, data.length);\n        startIndex = fixedIndex.startIndex;\n        endIndex = fixedIndex.endIndex + 1;\n      } else {\n        const accumulation = calcAccumulationIndex(this.accumulationOffset, offset, viewportSize);\n        startIndex = accumulation.startIndex;\n        endIndex = accumulation.endIndex + 1;\n      }\n\n      startIndex = Math.max(0, startIndex - this.leadingSize);\n      endIndex = Math.min(data.length, endIndex + this.trailSize);\n\n      // 清理现有的pool，将没有在展示的viewItem无效化\n      for (let i = 0; i < this.pool.length; i += 1) {\n        const viewItem = this.pool[i];\n        const currentData = this.data[viewItem.props.index];\n        /**\n         * 判断元素是否在显示范围内\n         * 或者元素本身已经不在原来的位置(data发生变化)\n         * 需要额外判断元素是否已经失效，避免同一个viewItem多次执行invalid操作\n         */\n        if (\n          (\n            (viewItem.props.index < startIndex || viewItem.props.index >= endIndex)\n            || viewItem.data !== currentData// 当data本身发生变化时，单独使用index判断元素是否生效是不够的，需要对比元素本身是否变化\n          )\n          && viewItem.props.active\n        ) {\n          this.invalidViewItem(viewItem);\n        }\n      }\n      /**\n       * 循环设置startIndex到endIndex的viewItem\n       * 此方法会优先尝试从activeViewMap中获取，获取到了证明该节点已存在且位置正确无需更新\n       * 如果不存在，那么会再尝试从cacheViewList中获取已经失效的viewItem，存在的话会使用该节点更新位置和数据\n       * 如果上面两种都没有执行，那么会创建一个新的viewItem并添加到pool当中，随后会更新该viewItem的位置和数据\n       */\n      for (let i = startIndex; i < endIndex; i += 1) {\n        const item = this.data[i];\n        const key = get(item, dataKey);\n        let viewItem = this.activeViewMap.get(key);\n\n        if (!viewItem) {\n          viewItem = this.cacheViewList.pop();\n          if (viewItem) {\n            viewItem.data = item;\n            viewItem.props.key = key;\n            viewItem.props.index = i;\n            viewItem.props.active = true;\n          } else {\n            viewItem = {\n              data: item,\n              position: 0,\n            };\n            this.addToPool(viewItem, i, key);\n          }\n          this.activeViewMap.set(viewItem.props.key, viewItem);\n        }\n        if (size) {\n          viewItem.position = this.size * i;\n        } else {\n          viewItem.position = this.accumulationOffset[i];\n        }\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./range-render.vue?vue&type=template&id=139f7ef5&\"\nimport script from \"./range-render.vue?vue&type=script&lang=js&\"\nexport * from \"./range-render.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"range-render\"},_vm._l((_vm.pool),function(item){return _c('div',{key:item.props.id,staticClass:\"range-render__item\",style:({'transform': (\"translate\" + (_vm.direction ==='vertical' ? 'Y' : 'X') + \"(\" + (item.position) + \"px)\")})},[_vm._t(\"default\",null,{\"data\":item.data,\"index\":item.props.index})],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"infinite-table__body\"\n    :style=\"{\n      height: `${layoutSize.viewportHeight}px`,\n      'transform-style': `${fixedData.length >= 0 ? 'preserve-3d' : 'initial'}`\n    }\"\n    v-on=\"tableBodyListeners\"\n  >\n    <!-- FIXME: 修复使用index作为key -->\n    <div\n      style=\"position: relative;\"\n      :style=\"{\n        height: `${fixedData.length * tableOptions.rowHeight}px`,\n        transform: `translate3d(0px, ${grid.offsetY}px, 1px)`\n      }\"\n    >\n      <table-row\n        v-for=\"(rowData, index) of fixedData\"\n        :key=\"index\"\n        v-bind=\"getExtraRowAttrs(data, index)\"\n        :index=\"index\"\n        :offset-x=\"grid.offsetX\"\n        :data=\"rowData\"\n        :style=\"{\n          position: 'relative',\n        }\"\n      />\n    </div>\n    <range-render\n      v-slot:default=\"{data: rowData, index}\"\n      :data=\"data\"\n      direction=\"vertical\"\n      :size=\"tableOptions.rowHeight\"\n      :data-key=\"tableOptions.rowKey\"\n      :viewport-size=\"layoutSize.viewportHeight - fixedData.length * tableOptions.rowHeight\"\n      :offset=\"grid.offsetY\"\n      :trail-size=\"1\"\n      :leading-size=\"1\"\n    >\n      <table-row\n        v-bind=\"getExtraRowAttrs(rowData, index + fixedData.length)\"\n        :index=\"index + fixedData.length\"\n        :offset-x=\"grid.offsetX\"\n        :data=\"rowData\"\n      />\n    </range-render>\n    <div\n      :style=\"{\n        transform:`translateY(${(data.length) * tableOptions.rowHeight}px)`,\n        width: `${layoutSize.allColumnsWidth}px`\n      }\"\n      style=\"position: absolute; height: 1px;\"\n    />\n  </div>\n</template>\n\n<script>\nimport TableRow from './table-row.jsx';\nimport RangeRender from './render/range-render.vue';\n\nexport default {\n  name: 'TableBody',\n  inject: ['tableStore', 'tableOptions'],\n  components: {\n    RangeRender,\n    TableRow,\n  },\n  data() {\n    return {\n      grid: {\n        offsetX: 0,\n        offsetY: 0,\n      },\n    };\n  },\n  computed: {\n    data() {\n      return this.tableStore.dataStore.data;\n    },\n    fixedData() {\n      return this.tableStore.dataStore.fixedData;\n    },\n    layoutSize() {\n      return this.tableStore.layoutSize;\n    },\n    tableBodyListeners() {\n      return {\n        ...this.$listeners,\n      };\n    },\n  },\n  watch: {\n    data() {\n      this.handleScroll();\n    },\n  },\n  beforeCreate() {\n    this.handing = false;\n  },\n  mounted() {\n    this.scroll = this.getScrollElement();\n    this.scroll.addEventListener('scroll', this.handleScroll);\n    this.handleScroll();\n  },\n  methods: {\n    getExtraRowAttrs(rowItem, index) {\n      const { striped, rowExtraAttrs } = this.tableOptions;\n      const { tableSelection } = this.tableStore;\n      let extraAttrs = rowExtraAttrs;\n      if (typeof rowExtraAttrs === 'function') {\n        extraAttrs = rowExtraAttrs(rowItem, index);\n      }\n      return {\n        style: {\n          ...extraAttrs.style,\n        },\n        class: {\n          ...extraAttrs.class,\n          'infinite-table__row--striped': striped && index % 2 === 1,\n          'infinite-table__row--selected': tableSelection.hasSelected(rowItem),\n        },\n        ...extraAttrs.attrs,\n      };\n    },\n    handleScroll() {\n      if (!this.handing) {\n        this.handing = true;\n        requestAnimationFrame(() => {\n          this.changeOffsetIndex();\n          this.handing = false;\n        });\n      }\n    },\n    changeOffsetIndex() {\n      const { scrollTop, scrollLeft } = this.scroll;\n      this.grid.offsetX = scrollLeft;\n      this.grid.offsetY = scrollTop;\n    },\n    getScrollElement() {\n      return this.$el.closest('.infinite-table--scrollable');\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./table-body.vue?vue&type=template&id=309f7786&\"\nimport script from \"./table-body.vue?vue&type=script&lang=js&\"\nexport * from \"./table-body.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import classNames from 'classnames';\nimport RangeRender from './render/range-render.vue';\n\nexport default {\n  name: 'TableRow',\n  inject: ['tableStore', 'emitter', 'tableOptions'],\n  components: { RangeRender },\n  props: {\n    index: {\n      type: Number,\n      required: true,\n    },\n    data: {\n      type: Object,\n      required: true,\n    },\n    offsetX: {\n      type: Number,\n      default: 0,\n    },\n  },\n  methods: {\n    getFixedStyle(column) {\n      return this.tableStore.tableColumns.getFixedColumnStyle(column);\n    },\n    dispatchRowEvent(eventName, data, column, e) {\n      this.emitter.dispatch(eventName, data, column, e);\n    },\n    renderTableCell(props) {\n      const { data, tableStore, index } = this;\n      const { focusedRow, selectedColumn } = tableStore.tableSelection;\n      const { highlightCurrentCell, rowDraggable, rowHeight } = this.tableOptions;\n      const { data: columnOption } = props;\n      const { columnRender } = columnOption;\n      const cellSelected = highlightCurrentCell && (\n        tableStore.isSameColumn(selectedColumn, columnOption)\n        && tableStore.isSameRow(data, focusedRow)\n      );\n      const cellClassNames = classNames(\n        'infinite-table__cell', 'infinite-table__cell--ellipsis',\n        {\n          'infinite-table__cell--selected': cellSelected,\n          'infinite-table__cell--fixed': !!columnOption.fixed,\n          'fixed-left': columnOption.fixed === 'left',\n          'fixed-right': columnOption.fixed === 'right',\n        },\n      );\n      return (\n        <div\n          class={cellClassNames}\n          draggable={rowDraggable}\n          style={{\n            width: `${columnOption.width}px`,\n            height: `${rowHeight}px`,\n            ...this.getFixedStyle(columnOption),\n          }}\n          {\n            ...{\n              on: {\n                click: (e) => {\n                  this.dispatchRowEvent('cell-click', data, columnOption, e);\n                  this.dispatchRowEvent('row-click', data, columnOption, e);\n                },\n                contextmenu: (e) => this.dispatchRowEvent('row-contextmenu', data, columnOption, e),\n                dblclick: (e) => this.dispatchRowEvent('row-dblclick', data, columnOption, e),\n                dragstart: (e) => this.dispatchRowEvent('row-dragstart', data, columnOption, e),\n                dragend: (e) => this.dispatchRowEvent('row-dragend', data, columnOption, e),\n                dragover: (e) => this.dispatchRowEvent('row-dragover', data, columnOption, e),\n                drop: (e) => this.dispatchRowEvent('row-drop', data, columnOption, e),\n              },\n            }\n          }\n        >\n          <div class=\"cell-content\">\n            {columnRender(this.$createElement, { row: data, options: columnOption, rowIndex: index })}\n          </div>\n        </div>\n      );\n    },\n  },\n  render(h) {\n    const { layoutSize } = this.tableStore;\n    const {\n      leftFixedColumns, rightFixedColumns, mainColumns,\n      leftFixedColumnWidth, rightFixedColumnWidth,\n    } = this.tableStore.tableColumns;\n\n    const { offsetX, tableOptions } = this;\n    return (\n      h('div', {\n        class: 'infinite-table__row',\n        style: {\n          width: `${layoutSize.allColumnsWidth}px`,\n          height: `${tableOptions.rowHeight}px`,\n        },\n      }, [\n        leftFixedColumns.map((column) => this.renderTableCell({ data: column })),\n        h('range-render', {\n          style: {\n            width: `${layoutSize.allColumnsWidth}px`,\n          },\n          props: {\n            dataKey: 'label',\n            data: mainColumns,\n            direction: 'horizontal',\n            sizeField: 'width',\n            offset: offsetX,\n            viewportSize: layoutSize.viewportWidth - leftFixedColumnWidth - rightFixedColumnWidth,\n          },\n          scopedSlots: {\n            default: this.renderTableCell,\n          },\n        }),\n        rightFixedColumns.map((column) => this.renderTableCell({ data: column })),\n      ])\n    );\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._g({staticClass:\"infinite-table__body\",style:({\n    height: ((_vm.layoutSize.viewportHeight) + \"px\"),\n    'transform-style': (\"\" + (_vm.fixedData.length >= 0 ? 'preserve-3d' : 'initial'))\n  })},_vm.tableBodyListeners),[_c('div',{staticStyle:{\"position\":\"relative\"},style:({\n      height: ((_vm.fixedData.length * _vm.tableOptions.rowHeight) + \"px\"),\n      transform: (\"translate3d(0px, \" + (_vm.grid.offsetY) + \"px, 1px)\")\n    })},_vm._l((_vm.fixedData),function(rowData,index){return _c('table-row',_vm._b({key:index,style:({\n        position: 'relative',\n      }),attrs:{\"index\":index,\"offset-x\":_vm.grid.offsetX,\"data\":rowData}},'table-row',_vm.getExtraRowAttrs(_vm.data, index),false))}),1),_vm._v(\" \"),_c('range-render',{attrs:{\"data\":_vm.data,\"direction\":\"vertical\",\"size\":_vm.tableOptions.rowHeight,\"data-key\":_vm.tableOptions.rowKey,\"viewport-size\":_vm.layoutSize.viewportHeight - _vm.fixedData.length * _vm.tableOptions.rowHeight,\"offset\":_vm.grid.offsetY,\"trail-size\":1,\"leading-size\":1},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n      var rowData = ref.data;\n      var index = ref.index;\nreturn [_c('table-row',_vm._b({attrs:{\"index\":index + _vm.fixedData.length,\"offset-x\":_vm.grid.offsetX,\"data\":rowData}},'table-row',_vm.getExtraRowAttrs(rowData, index + _vm.fixedData.length),false))]}}])}),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"height\":\"1px\"},style:({\n      transform:(\"translateY(\" + ((_vm.data.length) * _vm.tableOptions.rowHeight) + \"px)\"),\n      width: ((_vm.layoutSize.allColumnsWidth) + \"px\")\n    })})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * The base implementation of `sum` and `sumBy`.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  let result;\n\n  for (const value of array) {\n    const current = iteratee(value);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\n/**\n * This method is like `sum` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the value to be summed.\n * The iteratee is invoked with one argument: (value).\n *\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per element.\n * @returns {number} Returns the sum.\n * @example\n *\n * const objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }]\n *\n * sumBy(objects, ({ n }) => n)\n * // => 20\n */\nexport function sumBy(array, iteratee) {\n  return (array != null && array.length)\n    ? baseSum(array, iteratee)\n    : 0;\n}\n","/* eslint-disable no-underscore-dangle */\nimport Vue from 'vue';\nimport { sumBy } from '@/utils/collection';\n\nexport default class TableColumnStore {\n  constructor() {\n    const _vm = new Vue({\n      data: {\n        allTableColumns: [],\n      },\n      computed: {\n        leftFixedColumns() {\n          return this.allTableColumns.filter((column) => column.fixed === 'left');\n        },\n        rightFixedColumns() {\n          return this.allTableColumns.filter((column) => column.fixed === 'right');\n        },\n        leftFixedColumnWidth() {\n          return sumBy(this.leftFixedColumns, (item) => item.width);\n        },\n        rightFixedColumnWidth() {\n          return sumBy(this.rightFixedColumns, (item) => item.width);\n        },\n        mainColumns() {\n          return this.allTableColumns.filter((column) => !column.fixed);\n        },\n        columns() {\n          return [...this.leftFixedColumns, ...this.mainColumns, ...this.rightFixedColumns];\n        },\n        columnOffset() {\n          let sum = 0;\n          return this.columns.map((item, index) => {\n            if (index === 0) {\n              return 0;\n            }\n            sum += (this.columns[index - 1].width || 0);\n            return sum;\n          });\n        },\n        fixedPositionMap() {\n          const map = {\n            left: new Map(),\n            right: new Map(),\n          };\n          for (let i = 0; i < this.leftFixedColumns.length; i += 1) {\n            if (i === 0) {\n              map.left.set(i, 0);\n            } else {\n              const prevValue = map.left.get(i - 1);\n              const prevColumn = this.leftFixedColumns[i - 1];\n              map.left.set(i, prevValue + prevColumn.width);\n            }\n          }\n\n          for (let i = this.rightFixedColumns.length - 1; i >= 0; i -= 1) {\n            if (i === this.rightFixedColumns.length - 1) {\n              map.right.set(i, 0);\n            } else {\n              const previousValue = map.right.get(i + 1);\n              const previousColumn = this.rightFixedColumns[i + 1];\n              map.right.set(i, previousValue + previousColumn.width);\n            }\n          }\n          return map;\n        },\n      },\n      methods: {\n        getColumnsByFixed(fixed) {\n          switch (fixed) {\n            case 'left':\n              return this.leftFixedColumns;\n            case 'right':\n              return this.rightFixedColumns;\n            default:\n              return this.mainColumns;\n          }\n        },\n        findColumnIndex(column, originIndex = false) {\n          if (originIndex) {\n            return this.allTableColumns.findIndex((item) => column.label === item.label);\n          }\n          return this.columns.findIndex((item) => column.label === item.label);\n        },\n      },\n    });\n\n    this._vm = _vm;\n  }\n\n  getColumnOffset(column) {\n    const columnIndex = this._vm.findColumnIndex(column);\n    return this._vm.columnOffset[columnIndex];\n  }\n\n  /**\n   * 获取column的fixed style\n   * @param column\n   * @return {Object} style对象, 包含left或right属性\n   */\n  getFixedColumnStyle(column) {\n    if (column.fixed) {\n      const fixedColumns = this._vm.getColumnsByFixed(column.fixed);\n      const index = fixedColumns.findIndex((item) => item.label === column.label);\n      const positionMap = this._vm.fixedPositionMap;\n      return {\n        [column.fixed]: `${positionMap[column.fixed].get(index)}px`,\n      };\n    }\n    return {};\n  }\n\n  addTableColumn(column, index) {\n    const columnStore = this._vm.allTableColumns;\n    if (typeof index === 'number') {\n      columnStore.splice(index, 0, column);\n    } else {\n      columnStore.push(column);\n    }\n  }\n\n  removeTableColumn(column) {\n    const index = this._vm.findColumnIndex(column, true);\n    if (index !== -1) {\n      this._vm.allTableColumns.splice(index, 1);\n    }\n  }\n\n  replaceTableColumn(prevColumn, nextColumn) {\n    const prevIndex = this._vm.findColumnIndex(prevColumn, true);\n    if (prevIndex !== -1) {\n      this._vm.allTableColumns.splice(prevIndex, 1, nextColumn);\n    }\n  }\n\n  get columns() {\n    return this._vm.columns;\n  }\n\n  get leftFixedColumns() {\n    return this._vm.leftFixedColumns;\n  }\n\n  get rightFixedColumns() {\n    return this._vm.rightFixedColumns;\n  }\n\n  get leftFixedColumnWidth() {\n    return this._vm.leftFixedColumnWidth;\n  }\n\n  get rightFixedColumnWidth() {\n    return this._vm.rightFixedColumnWidth;\n  }\n\n  get mainColumns() {\n    return this._vm.mainColumns;\n  }\n\n  clear() {\n    this._vm.allTableColumns = [];\n  }\n}\n","export default class TableSelectionStore {\n  constructor(options) {\n    const { rowKey } = options;\n    if (!rowKey) {\n      throw new Error('[TableSelectionStore]: rowKey必须存在');\n    }\n    this.rowKey = rowKey;\n    this.selectedRows = [];\n    this.focusedRow = {};\n    this.selectedColumn = {};\n    this.selectedCell = {\n      row: {},\n      column: {},\n    };\n  }\n\n  clearSelectedRows() {\n    this.selectedRows = [];\n  }\n\n  addSelectedRows(row, multiple) {\n    const index = this.findSelectionIndex(row);\n    const { length } = this.selectedRows;\n    if (!multiple) {\n      this.clearSelectedRows();\n    }\n    if ((multiple && index !== -1) || (!multiple && length > 1)) {\n      this.selectedRows.splice(index, 1);\n    } else {\n      this.selectedRows.push(row);\n    }\n  }\n\n  findSelectionIndex(row) {\n    return this.selectedRows.findIndex((item) => item[this.rowKey] === row[this.rowKey]);\n  }\n\n  hasSelected(row) {\n    return this.findSelectionIndex(row) >= 0;\n  }\n}\n","import Vue from 'vue';\nimport { get } from '@/utils/object';\nimport { isSameColumn } from './utils';\n\nexport function defaultComparator(a, b) {\n  if (a > b) {\n    return 1;\n  }\n  if (a === b) {\n    return 0;\n  }\n  return -1;\n}\n\nfunction createDataStore(options) {\n  return new Vue({\n    data: {\n      dataKey: options.dataKey,\n      freeze: options.freeze || false,\n      data: [],\n      fixedKeys: [],\n      sortedOption: {},\n    },\n    computed: {\n      fixedData() {\n        const set = new Set(this.fixedKeys);\n        return this.data.filter((dataItem) => set.has(get(dataItem, this.dataKey)));\n      },\n      normalData() {\n        const set = new Set(this.fixedKeys);\n        const data = this.data.filter((dataItem) => !set.has(get(dataItem, this.dataKey)));\n        return this.compareDataItem(data);\n      },\n      allData() {\n        return [...this.fixedData, ...this.normalData];\n      },\n    },\n    methods: {\n      compareDataItem(data) {\n        const { column, order } = this.sortedOption;\n        if (!order || !column || order === 'nature') {\n          return data;\n        }\n        const { comparator, sortBy } = column;\n        if (!comparator && !sortBy) {\n          return data;\n        }\n        return data.sort((row1, row2) => {\n          const descFlag = order === 'desc' ? -1 : 1;\n          if (!comparator) {\n            return defaultComparator(get(row1, sortBy), get(row2, sortBy)) * descFlag;\n          }\n          return comparator.call(null, row1, row2) * descFlag;\n        });\n      },\n      setData(nextData) {\n        if (this.freeze) {\n          this.data = nextData.map((dataItem) => Object.freeze(dataItem));\n        } else {\n          this.data = nextData;\n        }\n      },\n      setSortedOption(sortedOption) {\n        const { column: prevColumn, order: prevOrder } = this.sortedOption;\n        const { column } = sortedOption;\n        let { order } = sortedOption;\n        if (!order && !isSameColumn(column, prevColumn)) {\n          order = 'asc';\n        } else if (!order) {\n          switch (prevOrder) {\n            case 'asc':\n              order = 'desc';\n              break;\n            case 'desc':\n              order = 'nature';\n              break;\n            default:\n              order = 'asc';\n          }\n        }\n        this.sortedOption = { order, column };\n      },\n    },\n  });\n}\n\nexport default class TableDataStore {\n  constructor(options) {\n    Object.defineProperty(this, '_vm', {\n      value: createDataStore(options),\n      enumerable: false,\n      writable: false,\n      configurable: false,\n    });\n  }\n\n  get data() {\n    return this._vm.normalData;\n  }\n\n  get fixedData() {\n    return this._vm.fixedData;\n  }\n\n  get allData() {\n    return this._vm.allData;\n  }\n\n  updateData(nextData) {\n    this._vm.setData(nextData);\n  }\n\n  updateFixedKeys(fixedKeys) {\n    this._vm.fixedKeys = fixedKeys;\n  }\n\n  set sortedOption(sortedOption) {\n    this._vm.setSortedOption(sortedOption);\n  }\n\n  get sortedOption() {\n    return this._vm.sortedOption;\n  }\n}\n","export function isSameColumn(column1, column2) {\n  if (!column1 || !column2 || !column1.label || !column2.label) {\n    return false;\n  }\n  return column1.label === column2.label;\n}\n","/* eslint-disable no-underscore-dangle */\nimport TableColumnStore from './store/table-column-store';\nimport TableSelectionStore from './store/table-selection-store';\nimport TableDataStore from '@/store/table-data-store';\nimport { get } from '@/utils/object';\n\nexport default class TableStore {\n  constructor(options = {}) {\n    this.context = options.context;\n    const { rowKey } = this.context;\n    this.eventEmitter = options.eventEmitter;\n    this.rowHeight = options.rowHeight;\n    this.__layoutSize = options.layoutSize;\n    this.tableSelection = new TableSelectionStore({\n      rowKey: this.context.rowKey,\n    });\n    this.tableColumns = new TableColumnStore();\n    this.dataStore = new TableDataStore({ dataKey: rowKey });\n    this.dataStore.updateData(options.data);\n    this.dataStore.updateFixedKeys(options.fixedKeys);\n  }\n\n  get layoutSize() {\n    return this.__layoutSize;\n  }\n\n  set layoutSize(value) {\n    this.__layoutSize = value;\n  }\n\n  isSameRow(rowItem1, rowItem2) {\n    const { rowKey } = this.context;\n    return get(rowItem1, rowKey) === get(rowItem2, rowKey);\n  }\n\n  isSameColumn(column1, column2) {\n    return column1.label === column2.label;\n  }\n}\n","/**\n * 计算分配宽度为默认值的列宽度, 分配的规则是，将不能整除的部分加再在index较小的元素上\n * @param totalWidth 总共要分配的宽度\n * @param totalColumn 总共要分配的列数\n * @param index 当前列的index\n * @return {number} 该列的宽度\n */\nexport function calcDefaultColumnWidth(totalWidth, totalColumn, index) {\n  const commonWidth = Math.floor(totalWidth / totalColumn);\n  const modWidth = totalWidth % totalColumn;\n  return commonWidth + (index < modWidth ? 1 : 0);\n}\n\nexport function getTableBodyHeight(rowHeight, dataLength) {\n  return rowHeight * dataLength;\n}\n\n// 计算每列的宽度\n// 如果column设置了width，则使用column的宽度\n// 如果存在未设置宽度的列，则根据容器宽度与列总宽度的关系，设置其值\nexport function doColumnWidthLayout(tableWidth, columns) {\n  // TODO 修改column默认width的获取方式\n  const defaultColumnWidth = 80;\n  let defaultWidthColumnCount = 0;\n  let defaultColumnRestWidth = tableWidth;\n  const totalColumnWidth = columns.reduce((totalWidth, column) => {\n    let columnWidth = column.width;\n    const { hasWidth } = column;\n    if (!hasWidth) {\n      defaultWidthColumnCount += 1;\n      columnWidth = defaultColumnWidth;\n    } else {\n      defaultColumnRestWidth -= column.width;\n    }\n    return totalWidth + columnWidth;\n  }, 0);\n\n  let n = 0;\n  return columns.map((column) => {\n    const { hasWidth } = column;\n    let { width } = column;\n    if (!hasWidth) {\n      if (totalColumnWidth <= tableWidth) {\n        width = calcDefaultColumnWidth(defaultColumnRestWidth, defaultWidthColumnCount, n);\n        n += 1;\n      } else {\n        width = defaultColumnWidth;\n      }\n    }\n    return {\n      ...column,\n      width,\n    };\n  });\n}\n","/**\n * 用于顶级组件抛出事件\n */\nexport default class EventEmitter {\n  constructor(vm) {\n    this.vm = vm;\n  }\n\n  dispatch(event, ...payload) {\n    this.vm.$emit.apply(this.vm, [event, ...payload]);\n  }\n}\n","<template>\n  <div\n    ref=\"table\"\n    class=\"infinite-table\"\n    :style=\"{height: tableHeight}\"\n    tabindex=\"0\"\n    @keydown=\"handleKeyEvent($event, 'DOWN')\"\n    @keyup=\"handleKeyEvent($event, 'UP')\"\n    @click.capture=\"focus\"\n  >\n    <div\n      v-if=\"tableColumns.length === 0\"\n      ref=\"columnsDef\"\n      class=\"infinite-table__columns-define\"\n    >\n      <slot />\n    </div>\n    <div\n      ref=\"scrollElement\"\n      class=\"infinite-table--scrollable\"\n    >\n      <table-header\n        :header-height=\"tableOptions.headerHeight\"\n        :style=\"{width: `${tableStore.layoutSize.allColumnsWidth}px`}\"\n        :class=\"tableHeaderClass\"\n      />\n      <table-body />\n    </div>\n  </div>\n</template>\n\n<script>\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { debounce } from 'debounce';\nimport TableColumnItem from '@/store/table-column-item';\nimport { get } from '@/utils/object';\nimport TableHeader from './table-header.vue';\nimport TableBody from './table-body.vue';\nimport TableStore from './table-store';\nimport { getTableBodyHeight, doColumnWidthLayout } from './table-layout';\nimport {\n  getScrollWidth, num2px, getClientSize, px2num,\n} from './utils/layout';\nimport EventEmitter from './event-emitter';\nimport './styles/main.scss';\n\nconst KeyStatus = {\n  UP: 'UP',\n  DOWN: 'DOWN',\n};\n\nexport default {\n  name: 'InfiniteTable',\n  components: {\n    TableBody,\n    TableHeader,\n  },\n  props: {\n    /**\n     * 列表的数据内容\n     */\n    data: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    /**\n     * table的高度，可以使用任意合法的css\n     */\n    height: {\n      type: [Number, String],\n      default: '100%',\n    },\n    /**\n     * 表头的高度\n     */\n    headerHeight: {\n      type: [Number, String],\n      default: 48,\n    },\n    /**\n     * 每行数据的高度\n     */\n    rowHeight: {\n      type: [Number, String],\n      default: 48,\n    },\n    rowKey: {\n      type: String,\n      required: true,\n    },\n    /**\n     * 是否采用明暗间隔的行\n     */\n    striped: {\n      type: Boolean,\n      default: true,\n    },\n    /**\n     * 是否高亮选中的行\n     */\n    highlightCurrentRow: {\n      type: Boolean,\n      default: true,\n    },\n    multipleSelection: {\n      type: Boolean,\n      default: false,\n    },\n    highlightCurrentCell: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * 渲染行时，额外添加的class名\n     */\n    rowExtraAttrs: {\n      type: [Object, Function],\n      default() {\n        return {};\n      },\n    },\n    headerResizable: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * 标明表头的顺序是否可以通过拖拽改变\n     */\n    headerOrderDraggable: {\n      type: Boolean,\n      default: false,\n    },\n    /**\n     * 标明行是否可以拖拽\n     */\n    rowDraggable: {\n      type: Boolean,\n      default: false,\n    },\n    tableColumns: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    topFixedKeys: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n  },\n  data() {\n    const tableStore = new TableStore({\n      context: this,\n      data: this.data,\n      fixedKeys: this.topFixedKeys,\n      layoutSize: {\n        viewportWidth: 0,\n        viewportHeight: 0,\n        allColumnsWidth: 0,\n      },\n    });\n    return {\n      composeKey: {\n        shift: false,\n        control: false,\n      },\n      tableStore,\n    };\n  },\n  computed: {\n    tableOptions() {\n      return {\n        rowExtraAttrs: this.rowExtraAttrs,\n        headerHeight: px2num(this.headerHeight),\n        striped: this.striped,\n        rowKey: this.rowKey,\n        rowHeight: px2num(this.rowHeight),\n        headerResizable: this.headerResizable,\n        rowDraggable: this.rowDraggable,\n        headerOrderDraggable: this.headerOrderDraggable,\n        highlightCurrentCell: this.highlightCurrentCell,\n        multipleSelection: this.multipleSelection,\n      };\n    },\n    tableHeight() {\n      // FIXME: 默认高度分配目前有问题，当有横向滚动条时，长度计算错误\n      let height;\n      if (this.height) {\n        height = this.height;\n      } else if (this.data.length > 0) {\n        height = (this.tableOptions.rowHeight * this.data.length) + this.headerHeight;\n      } else {\n        height = 250;\n      }\n      return num2px(height);\n    },\n    tableHeaderClass() {\n      return {\n        'infinite-table__table-header--sticky': this.tableHeight,\n      };\n    },\n  },\n  provide() {\n    return {\n      tableStore: this.tableStore,\n      tableOptions: this.tableOptions,\n      emitter: new EventEmitter(this),\n    };\n  },\n  watch: {\n    // TODO 仅在resize或数据量变化导致滚动条出现变化时才计算layout\n    // FIXME 数据项更新后自动更新render\n    data: {\n      handler(newData) {\n        this.tableStore.dataStore.updateData(newData);\n        this.doLayout();\n      },\n    },\n    topFixedKeys(nextFixedKeys) {\n      this.tableStore.dataStore.updateFixedKeys(nextFixedKeys);\n    },\n    tableColumns: {\n      immediate: true,\n      deep: true,\n      handler() {\n        this.tableStore.tableColumns.clear();\n        this.tableColumns.map((column) => new TableColumnItem({ ...column }))\n          .forEach((columnOption) => {\n            this.tableStore.tableColumns.addTableColumn(columnOption);\n          });\n      },\n    },\n    tableOptions: {\n      deep: true,\n      handler() {\n        this.doLayout();\n      },\n    },\n    'tableStore.tableColumns.columns': {\n      handler() {\n        this.$nextTick(() => {\n          this.doLayout();\n        });\n      },\n    },\n  },\n  created() {\n    this.doLayout = debounce(this.doLayout, 100);\n    this.$on('row-click', (row) => {\n      this.selectRow(row);\n    });\n    this.$on('cell-click', (rowItem, columnOption) => {\n      this.tableStore.tableSelection.selectedColumn = columnOption;\n    });\n  },\n  mounted() {\n    this.resizeObserver = new ResizeObserver(() => {\n      this.doLayout();\n    });\n    this.resizeObserver.observe(this.$refs.table);\n    this.doLayout();\n  },\n  beforeDestroy() {\n    this.resizeObserver.disconnect();\n  },\n  methods: {\n    doLayout() {\n      // FIXME 修复列不如容器宽时，出现横向滚动条的问题\n      // 获取容器的clientHeight和clientWidth\n      const containerSize = getClientSize(this.$el);\n      const tableHeaderHeight = this.tableOptions.headerHeight;\n      let viewportWidth = containerSize.width;\n      const tableBodyHeight = getTableBodyHeight(this.rowHeight, this.data.length);\n      // 如果container的高度不为0（为0代表未使用css设置高度）而且container的高度小于TableBody的高度,说明需要有纵向滚动条\n      // 如果有纵向滚动条，那么内部table的宽度应该减去纵向滚动条的宽度\n      const hasVerticalScroller = containerSize.height > 0 && (containerSize.height - tableHeaderHeight < tableBodyHeight);\n      if (hasVerticalScroller) {\n        viewportWidth -= getScrollWidth();\n      }\n      // 使用viewportWidth，计算columns的宽度\n      // 如果所有column都设置了宽度，那么总宽度是每个column宽度的累加\n      // 如果存在没设置宽度的column，那么先用默认的column宽度计算column的总宽度\n      // 若总宽度小于viewport的宽度，将总宽度减去已设置的宽度，未设置宽度的column均分剩余的宽度。\n      // 否则，未设置宽度的column设置为默认宽度\n      const calculatedColumns = doColumnWidthLayout(viewportWidth, this.tableStore.tableColumns.columns);\n      const allColumnsWidth = calculatedColumns.reduce((sum, column) => sum + column.width, 0);\n      const hasHorizontalScroller = allColumnsWidth > viewportWidth;\n      let viewportHeight = containerSize.height - tableHeaderHeight;\n      if (hasHorizontalScroller) {\n        viewportHeight -= getScrollWidth();\n      }\n\n\n      // 避免doLayout时又改变了tableColumns导致循环调用\n      if (allColumnsWidth !== this.lastAllColumnsWidth) {\n        // TODO: 不使用循环添加columns\n        this.tableStore.tableColumns.clear();\n        calculatedColumns.forEach((item) => {\n          this.tableStore.tableColumns.addTableColumn(item);\n        });\n      }\n      this.lastAllColumnsWidth = allColumnsWidth;\n\n      this.tableStore.layoutSize = {\n        rowHeight: px2num(this.rowHeight),\n        viewportWidth,\n        viewportHeight,\n        allColumnsWidth,\n      };\n    },\n    selectRow(row) {\n      const { tableSelection } = this.tableStore;\n      tableSelection.focusedRow = row;\n      const multiple = this.composeKey.control && this.tableOptions.multipleSelection;\n      tableSelection.addSelectedRows(row, multiple);\n      this.$emit('current-change', tableSelection.selectedRows);\n    },\n    handleChangeSelect(event, keyStatus = KeyStatus.UP) {\n      if (keyStatus === KeyStatus.DOWN) {\n        const match = /Arrow(Up|Down|Left|Right)/i.exec(event.key);\n        if (match) {\n          const direction = match[1].toLowerCase();\n          this.move(direction);\n        }\n      }\n    },\n    handleComposeKeyEvent(event, keyStatus) {\n      this.$set(this.composeKey, event.key.toLowerCase(), keyStatus === KeyStatus.DOWN);\n    },\n    handleDispatchKeyEvent(event, keyStatus) {\n      const { focusedRow, selectedColumn } = this.tableStore.tableSelection;\n      this.$emit(`key-${keyStatus.toLowerCase()}`, focusedRow, selectedColumn, event);\n    },\n    handleKeyEvent(event, keyStatus) {\n      const { key } = event;\n      const eventDispatcher = [\n        {\n          rule: /^Arrow(Down|Up|Left|Right)/i,\n          method: this.handleChangeSelect,\n        },\n        {\n          rule: /(Control|Shift)/i,\n          method: this.handleComposeKeyEvent,\n        },\n        {\n          rule: /(.*)/i,\n          method: this.handleDispatchKeyEvent,\n        },\n      ];\n      for (let i = 0; i < eventDispatcher.length; i += 1) {\n        const dispatchItem = eventDispatcher[i];\n        if (dispatchItem.rule.test(key)) {\n          dispatchItem.method.call(this, event, keyStatus);\n          break;\n        }\n      }\n    },\n    tryScrollInvisibleElem(rowIndex, columnIndex, rowPosition, columnPosition) {\n      const { rowHeight } = this.tableOptions;\n      const { scrollTop, scrollLeft } = this.$refs.scrollElement;\n      const { viewportWidth, viewportHeight } = this.tableStore.layoutSize;\n      const { allData, fixedData } = this.tableStore.dataStore;\n      /**\n       * 如果行是row是固定行那么不做任何操作\n       * 如果当前的行高度小于scrollTop(当前行在视窗上面）\n       * 或者当前行的底部大于scrollTop加上视窗高度(当前在视窗下面)\n       * 就尝试使用scrollToRow方法将当前行滚动出来\n       */\n      const beneathTheTop = rowIndex * rowHeight < scrollTop + (fixedData.length * rowHeight);\n      if (\n        rowIndex >= fixedData.length\n        && (beneathTheTop || (rowIndex + 1) * rowHeight > scrollTop + viewportHeight)\n      ) {\n        this.scrollToRow(allData[rowIndex], beneathTheTop ? 'top' : 'bottom');\n      }\n\n      const { tableColumns } = this.tableStore;\n      const column = tableColumns.columns[columnIndex];\n      // 固定列永远显示在视窗区域，无需处理\n      if (column.fixed !== false) {\n        return;\n      }\n      const offset = tableColumns.getColumnOffset(column);\n      const { leftFixedColumnWidth, rightFixedColumnWidth } = tableColumns;\n      /**\n       * 如果在左侧固定列下面或是在右侧固定列下面\n       * 就尝试滚动到指定的column\n       */\n      const beneathTheLeft = scrollLeft + leftFixedColumnWidth > offset;\n      if (\n        beneathTheLeft\n        || scrollLeft + viewportWidth - rightFixedColumnWidth < offset + column.width\n      ) {\n        this.scrollToColumn(column, beneathTheLeft ? 'left' : 'right');\n      }\n    },\n    move(direction) {\n      // TODO: 元素不可见时，自动滚动列表\n      const { columns } = this.tableStore.tableColumns;\n      const { focusedRow, selectedColumn } = this.tableStore.tableSelection;\n      const { allData } = this.tableStore.dataStore;\n      let index = allData.indexOf(focusedRow);\n      let columnIndex = columns.findIndex((item) => item.label === selectedColumn.label);\n      if (index === -1) {\n        index = 0;\n      }\n      if (columnIndex === -1) {\n        columnIndex = 0;\n      }\n      let row;\n      switch (direction) {\n        case 'up':\n          index = index === 0 ? 0 : index - 1;\n          this.tryScrollInvisibleElem(index, columnIndex, 'top', 'left');\n          row = allData[index];\n          this.selectRow(row);\n          break;\n        case 'down':\n          index = index === allData.length - 1 ? allData.length - 1 : index + 1;\n          this.tryScrollInvisibleElem(index, columnIndex, 'bottom', 'left');\n          row = allData[index];\n          this.selectRow(row);\n          break;\n        case 'left':\n          columnIndex = columnIndex === 0 ? 0 : columnIndex - 1;\n          this.tableStore.tableSelection.selectedColumn = columns[columnIndex];\n          this.tryScrollInvisibleElem(index, columnIndex, 'top', 'left');\n          break;\n        case 'right':\n          if (columnIndex === columns.length - 1) {\n            columnIndex = columns.length - 1;\n          } else {\n            columnIndex += 1;\n          }\n          this.tableStore.tableSelection.selectedColumn = columns[columnIndex];\n          this.tryScrollInvisibleElem(index, columnIndex, 'top', 'right');\n          break;\n        default:\n          break;\n      }\n    },\n    focus() {\n      this.$refs.table.focus();\n    },\n    scrollToColumn(column, position = 'left') {\n      const { layoutSize, tableColumns } = this.tableStore;\n      const offset = tableColumns.getColumnOffset(column);\n      if (offset >= 0) {\n        let positionOffset = 0;\n        if (position === 'middle') {\n          positionOffset = -1 * ((layoutSize.viewportWidth / 2) - column.width);\n        } else if (position === 'right') {\n          positionOffset = -1 * (layoutSize.viewportWidth - column.width);\n        }\n        let fixedOffset = 0;\n        if (position === 'left' && column.fixed !== 'left') {\n          fixedOffset = tableColumns.leftFixedColumnWidth;\n        } else if (position === 'right' && column.fixed !== 'right') {\n          fixedOffset = tableColumns.rightFixedColumnWidth * -1;\n        }\n        this.$refs.scrollElement.scrollLeft = offset + positionOffset - fixedOffset;\n      }\n    },\n    scrollToRow(rowItem, position = 'top') {\n      const { rowHeight } = this.tableOptions;\n      const { dataStore, layoutSize } = this.tableStore;\n      const { allData, fixedData } = dataStore;\n      const rowItemValue = get(rowItem, this.rowKey);\n      const index = allData.findIndex((item) => get(item, this.rowKey) === rowItemValue);\n      if (index !== -1) {\n        let positionOffset = 0;\n        if (position === 'top') {\n          positionOffset = -1 * fixedData.length * rowHeight;\n        } else if (position === 'middle') {\n          positionOffset = -1 * ((layoutSize.viewportHeight / 2) - rowHeight);\n        } else if (position === 'bottom') {\n          positionOffset = -1 * (layoutSize.viewportHeight - rowHeight);\n        }\n        const y = rowHeight * index;\n        this.$refs.scrollElement.scrollTo(this.$refs.scrollElement.scrollLeft, y + positionOffset);\n      }\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./table.vue?vue&type=template&id=40710628&\"\nimport script from \"./table.vue?vue&type=script&lang=js&\"\nexport * from \"./table.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"table\",staticClass:\"infinite-table\",style:({height: _vm.tableHeight}),attrs:{\"tabindex\":\"0\"},on:{\"keydown\":function($event){return _vm.handleKeyEvent($event, 'DOWN')},\"keyup\":function($event){return _vm.handleKeyEvent($event, 'UP')},\"!click\":function($event){return _vm.focus($event)}}},[(_vm.tableColumns.length === 0)?_c('div',{ref:\"columnsDef\",staticClass:\"infinite-table__columns-define\"},[_vm._t(\"default\")],2):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"scrollElement\",staticClass:\"infinite-table--scrollable\"},[_c('table-header',{class:_vm.tableHeaderClass,style:({width: ((_vm.tableStore.layoutSize.allColumnsWidth) + \"px\")}),attrs:{\"header-height\":_vm.tableOptions.headerHeight}}),_vm._v(\" \"),_c('table-body')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue';\nimport InfiniteTableColumn from './table-column.jsx';\nimport InfiniteTable from './table.vue';\n\nexport default {\n  InfiniteTable,\n  InfiniteTableColumn,\n  install() {\n    Vue.component('infinite-table-column', InfiniteTableColumn);\n    Vue.component('infinite-table', InfiniteTable);\n  },\n};\n"],"sourceRoot":""}